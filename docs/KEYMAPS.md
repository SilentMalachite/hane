# Hane キーバインド

HaneはVimとEmacsの2つのキーマップをサポートしています。設定ファイルで切り替えることができます。

## Emacs モード

### ファイル操作
- `C-x C-s`: ファイル保存
- `C-x C-f`: ファイルを開く
- `C-x C-w`: 名前を付けて保存
- `C-x C-c`: アプリケーション終了

### ショートカット
- `C-s`: 保存（ショートカット）
- `C-o`: 開く（ショートカット）
- `C-S-s`: 名前を付けて保存

### 機能キー
- `F4`: Haskellコードの整形（fourmolu/ormolu）
- `F5`: Markdownプレビューの表示/非表示切り替え
- `Esc`: エディタモード切り替え（Markdown ↔ Haskell）

### カーソル移動
- `←` `→`: 左右移動（グラフェム単位）
- `↑` `↓`: 上下移動
- `Home`/`End`: 行頭/行末移動

### 編集操作
- `Backspace`: カーソル前の文字を削除
- `Delete`: カーソル位置の文字を削除
- `Enter`: 改行挿入

## Vim モード

VimモードはNormalモードとInsertモードの2つのモードがあります。

### Normal モード

#### モード切り替え
- `i`: Insertモードに移行
- `a`: カーソル後ろからInsertモードに移行
- `Esc`: InsertモードからNormalモードに戻る

#### カーソル移動
- `h`/`l`: 左右移動（グラフェム単位）
- `j`/`k`: 上下移動
- `0`: 行頭移動
- `$`: 行末移動

#### 編集操作
- `x`: カーソル位置の1グラフェム削除

#### ファイル操作
- `w`: ファイル保存
- `q`: アプリケーション終了

#### 機能キー
- `F4`: Haskellコードの整形（fourmolu/ormolu）
- `F5`: Markdownプレビューの表示/非表示切り替え
- `Esc`: エディタモード切り替え（Markdown ↔ Haskell）

### Insert モード

#### 基本操作
- 通常の文字入力
- `Enter`: 改行挿入
- `Backspace`: カーソル前の文字を削除
- `Delete`: カーソル位置の文字を削除
- `←` `→` `↑` `↓`: カーソル移動
- `Home`/`End`: 行頭/行末移動

#### モード切り替え
- `Esc`: Normalモードに戻る

## 共通キー

両モードで共通して使用できるキー：

- `Ctrl+C`: アプリケーション終了（緊急用）
- `Ctrl+Z`: アプリケーション一時停止
- `Tab`: タブ挿入（インデント）

## 注意点

- 日本語テキストの場合、カーソル移動はグラフェム単位で行われます
- 絵文字や合成文字も1つのグラフェムとして扱われます
- キーバインドの設定は `config.toml` ファイルの `[editor]` セクションで変更できます

## 将来的な拡張

将来的には以下の機能を予定しています：
- カスタムキーバインドの設定
- マクロ機能
- 検索・置換機能
- 複数カーソル編集

